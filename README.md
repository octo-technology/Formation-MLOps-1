# Package (7)

![branch build status](https://github.com/octo-technology/Formation-MLOps-1/actions/workflows/validation_ci.yml/badge.svg?branch=7_package)

What is this?
-------------
At this step :
- Your notebook is clean and running
- You have a few documented functions
- Your functions are in a specific `.py` file
- Your functions are tested
- Your package have a documentation
- Your code is packaged and installable

This step is to go further, it is optional.

What is the goal ?
-------------------
The goal of this step is to experiment with pickle and create a predict notebook.

You should :
- Make a class for your processing steps
- Save your model and processing class using pickle
- Create a new notebook
- Load data and import all needed code to process it
- Load model using pickle
- Make a prediction
- Complete the Dockerfile
- Build & run your docker image.

- Bonus: Add api test.

How to run the docker container ?
---------------------------------

```
docker build -t mlops-1 .
docker run -p 80:80 mlops-1
```

The API is exposed and can be reached at 0.0.0.0:80
The doc is available [here](http://127.0.0.1/docs), generated by swagger it can also be used to interact with the api.

[Call example](http://127.0.0.1/predict/2/Nasser,%20Mrs.%20Nicholas%20(Adele%20Achem)/female/?&age=14.0&sibSp=1&parch=0&ticket=237736&fare=30.0708&embarked=C) that should return the following message:
```
input_proba:
0	0.1997672538
1	0.8002327462
```

When I'm done ?
---------------
This is the end of this practical work.

Now you know how to go from an 'ugly' notebook to a documented, tested package.

To see a correction what you should have achieved you can check out branch `8_predict_notebook`
